<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G·ª≠i ng∆∞·ªùi ƒë·∫∑c bi·ªát...</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* --- C·∫§U H√åNH CHUNG --- */
        body {
            margin: 0;
            padding: 0;
            background: url('https://images.unsplash.com/photo-1545609938-860b09d2f841?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Nunito', sans-serif;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            color: white;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(40, 0, 10, 0.5);
            z-index: -1;
        }

        #canvas {
            position: absolute;
            top: 0; left: 0;
            z-index: 10;
            pointer-events: none;
        }

        #blossom-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            overflow: hidden;
            z-index: 1;
            pointer-events: none;
        }

        /* HOA R∆†I (V·∫Ω b·∫±ng CSS) */
        .petal {
            position: absolute;
            background: #ffc2d1;
            border-radius: 150% 0 150% 0;
            opacity: 0.8;
            box-shadow: 0 0 5px rgba(255, 194, 209, 0.5);
            animation: fall linear infinite, sway ease-in-out infinite alternate;
        }

        @keyframes fall {
            to { transform: translateY(105vh) rotate(720deg); }
        }
        @keyframes sway {
            from { margin-left: -50px; }
            to { margin-left: 50px; }
        }

        /* --- CARD --- */
        .card {
            position: relative;
            z-index: 20;
            width: 85%;
            max-width: 420px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 15px 40px rgba(255, 50, 100, 0.3);
            padding: 35px;
            text-align: center;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: floatCard 4s ease-in-out infinite alternate;
        }

        @keyframes floatCard {
            from { transform: translateY(0); }
            to { transform: translateY(-15px); }
        }

        h2, h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            margin: 10px 0;
            text-shadow: 0 0 15px rgba(255, 100, 150, 0.8), 0 0 30px rgba(255, 200, 220, 0.5);
        }

        p, .letter-content {
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .slide {
            display: none;
            animation: fadeIn 0.8s ease;
            width: 100%;
        }
        .slide.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lixi-icon {
            font-size: 90px;
            cursor: pointer;
            animation: shake 2.5s infinite;
            margin-bottom: 15px;
            display: inline-block;
            filter: drop-shadow(0 0 10px gold);
            transition: transform 0.3s;
        }
        .lixi-icon:hover { transform: scale(1.1) rotate(5deg); }
        
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            10%, 30%, 50%, 70%, 90% { transform: rotate(-5deg); }
            20%, 40%, 60%, 80% { transform: rotate(5deg); }
        }

        .letter-content {
            text-align: left;
            background: rgba(255, 245, 245, 0.95);
            color: #5a2d2d;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: inset 0 0 20px rgba(255, 180, 200, 0.2);
            border: 2px dashed rgba(255, 100, 100, 0.3);
        }

        .cute-gif {
            width: 180px;
            border-radius: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(255, 100, 150, 0.3);
        }
        
        /* --- BUTTONS --- */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            position: relative;
            width: 100%;
            height: 55px;
        }

        button {
            padding: 12px 35px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: 800;
            outline: none;
            transition: all 0.3s ease;
        }

        .btn-next {
            background: linear-gradient(45deg, #ffb347, #ffcc33);
            color: #d60000;
            box-shadow: 0 5px 15px rgba(255, 200, 50, 0.4);
        }
        .btn-next:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(255, 200, 50, 0.6); }

        .btn-yes {
            background: linear-gradient(45deg, #ff4d88, #ff99cc, #ff4d88);
            background-size: 200% auto;
            color: white;
            box-shadow: 0 5px 20px rgba(255, 77, 136, 0.5);
            z-index: 50;
            animation: gradientAnim 3s infinite linear;
        }
        @keyframes gradientAnim {
            to { background-position: 200% center; }
        }
        .btn-yes:hover { transform: scale(1.05); }
        
        .btn-no {
            background: #fff;
            color: #555;
            z-index: 1000; 
            position: absolute; 
            right: 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .result-title {
            font-size: 2.8rem;
            color: #fff6a6;
            text-shadow: 0 0 20px #ff6600, 0 0 40px #ff0000;
            animation: glow 1.5s infinite alternate;
        }
        @keyframes glow {
            from { text-shadow: 0 0 10px #ff6600; }
            to { text-shadow: 0 0 30px #ffcc00, 0 0 50px #ff0055; }
        }

    </style>
</head>
<body>

    <canvas id="canvas"></canvas>
    <div id="blossom-container"></div>

    <div class="card">
        
        <div id="slide1" class="slide active">
            <div class="lixi-icon" onclick="goToSlide(2)">üßß</div>
            <h2>NƒÉm m·ªõi t·ªõ c√≥ m√≥n qu√†<br>mu·ªën g·ª≠i c·∫≠u n√®!</h2>
            <p style="font-size: 1rem; opacity: 0.9; font-style: italic;">(Ch·∫°m nh·∫π v√†o bao l√¨ x√¨ ƒë·ªÉ m·ªü nha)</p>
        </div>

        <div id="slide2" class="slide">
            <h3>üíå G·ª≠i C·∫≠u...</h3>
            <div class="letter-content">
                "NƒÉm c≈© s·∫Øp qua r·ªìi...<br>
                C·∫£m ∆°n c·∫≠u ƒë√£ xu·∫•t hi·ªán v√† khi·∫øn nƒÉm v·ª´a qua c·ªßa t·ªõ tr·ªü n√™n th·∫≠t ƒë·∫∑c bi·ªát.<br><br>
                T·ªõ c√≥ m·ªôt ƒëi·ªÅu mu·ªën n√≥i v·ªõi c·∫≠u t·ª´ l√¢u l·∫Øm r·ªìi..."
            </div>
            <button class="btn-next" onclick="goToSlide(3)">ƒêi·ªÅu g√¨ d·ª£? üëâ</button>
        </div>

        <div id="slide3" class="slide">
           <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQphIqsfREdUI_xGOz_MYXcA_fm5R0q16sdsg&s" class="cute-gif"> 
            <h2>T·ªõ th√≠ch c·∫≠u,t·ªõi gi·ªù v·∫´n c√≤n<br>c·∫≠u l√†m ny t·ªõ nh√©? ü•∫</h2>
            <div class="btn-group">
                <button class="btn-yes" onclick="finish()">ƒê·ªìng √Ω ‚ù§Ô∏è</button>
                <button class="btn-no" id="btnNo">Kh√¥ng b√© ∆°i</button>
            </div>
        </div>

        <div id="slide4" class="slide">
             <img src="https://media.tenor.com/mPAD41xuFosAAAAM/aguacate-bailarin.gif" class="cute-gif">
            <h2 class="result-title">Y√äAAA !!! üéÜ</h2>
            <p style="font-size: 1.3rem;">Ch√∫c M·ª´ng NƒÉm M·ªõi!<br>T·ªõ ƒë·ª£i c·∫≠u h·ªìi ƒë√°p<br>ƒê∆∞·ª£c th√¨ g·ª≠i t·ªõ nh√©üòò</p>
        </div>

    </div>

    <script>
        // LOGIC HOA R∆†I
        const blossomContainer = document.getElementById('blossom-container');
        const petalCount = 40;
        function createBlossoms() {
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                petal.style.left = Math.random() * 100 + 'vw';
                const size = Math.random() * 10 + 10;
                petal.style.width = size + 'px';
                petal.style.height = size + 'px';
                petal.style.animationDuration = Math.random() * 5 + 6 + 's';
                petal.style.animationDelay = Math.random() * 5 + 's';
                blossomContainer.appendChild(petal);
            }
        }
        createBlossoms();

        // LOGIC CHUY·ªÇN SLIDE
        function goToSlide(slideIndex) {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            document.getElementById('slide' + slideIndex).classList.add('active');
        }

        function finish() {
            goToSlide(4);
            startFireworks();
            blossomContainer.style.opacity = '0.2';
            blossomContainer.style.transition = 'opacity 2s';
        }

        // LOGIC N√öT CH·∫†Y TR·ªêN
        const btnNo = document.getElementById('btnNo');
        function moveButton() {
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            const btnWidth = btnNo.offsetWidth;
            const btnHeight = btnNo.offsetHeight;
            const randomX = Math.random() * (windowWidth - btnWidth - 30) + 15;
            const randomY = Math.random() * (windowHeight - btnHeight - 30) + 15;
            btnNo.style.position = 'fixed';
            btnNo.style.left = randomX + 'px';
            btnNo.style.top = randomY + 'px';
        }
        btnNo.addEventListener('mouseover', moveButton);
        btnNo.addEventListener('touchstart', (e) => { e.preventDefault(); moveButton(); });
        btnNo.addEventListener('click', (e) => { e.preventDefault(); moveButton(); });

        // LOGIC PH√ÅO HOA
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        let w, h, particles = [];
        let fireworksEnabled = false;
        function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
        window.addEventListener("resize", resize); resize();
        function startFireworks() { fireworksEnabled = true; loop(); }
        function loop() {
            if (!fireworksEnabled) return;
            requestAnimationFrame(loop);
            ctx.globalCompositeOperation = 'destination-out';
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, w, h);
            ctx.globalCompositeOperation = 'lighter';
            if (Math.random() < 0.08) createFirework();
            drawParticles();
        }
        function createFirework() {
            const explosionX = Math.random() * w;
            const explosionY = Math.random() * (h * 0.6);
            const color = `hsl(${Math.random() * 360}, 100%, 70%)`;
            for (let i = 0; i < 70; i++) particles.push(new Particle(explosionX, explosionY, color));
        }
        class Particle {
            constructor(x, y, color) {
                this.x = x; this.y = y; this.color = color;
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 5 + 2;
                this.vx = Math.cos(angle) * speed; this.vy = Math.sin(angle) * speed;
                this.alpha = 1; this.gravity = 0.05; this.friction = 0.98;
            }
            update() {
                this.vx *= this.friction; this.vy *= this.friction; this.vy += this.gravity;
                this.x += this.vx; this.y += this.vy; this.alpha -= 0.02;
            }
            draw() {
                ctx.save(); ctx.globalAlpha = this.alpha; ctx.fillStyle = this.color;
                ctx.beginPath(); ctx.arc(this.x, this.y, 2.5, 0, Math.PI * 2); ctx.fill(); ctx.restore();
            }
        }
        function drawParticles() {
            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].update(); particles[i].draw();
                if (particles[i].alpha <= 0) particles.splice(i, 1);
            }
        }
    </script>
</body>
</html>
